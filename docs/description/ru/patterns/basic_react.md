# Техническая документация: Паттерн `basic_react`

## 1. Обзор и назначение
`basic_react.py` — это фундаментальная **когнитивная архитектура**, предназначенная для `react_driver`. Этот паттерн — не просто промпт-шаблон, а структурированный метод, заставляющий LLM следовать определенному процессу мышления.

**Основная цель**: Превратить LLM из простого "ответчика" в "мыслителя". Вместо того чтобы сразу давать ответ, модель принудительно проходит через этапы анализа, сбора фактов и осмысленного синтеза.

**Ключевая инновация**: Паттерн вводит обязательный финальный этап **когнитивного синтеза через эмуляцию персоны**. Это заставляет модель не просто излагать факты, а интерпретировать их с определенной точки зрения, генерируя более глубокие и содержательные ответы.

## 2. Философия: Две роли одной модели
Стандартные ReAct-промпты хорошо справляются с использованием инструментов, но их финальный ответ часто является лишь сухой сводкой полученных данных. Они отвечают на вопрос "что?", но упускают "что это значит?".

`basic_react` решает эту проблему, заставляя модель последовательно выполнять две разные роли:

1.  **Роль "Аналитика"**: На этапах анализа и сбора информации модель действует как беспристрастный, объективный исследователь. Ее задача — только собирать факты с помощью инструментов, не давая им оценки.
2.  **Роль "Мудрого Синтезатора"**: После сбора фактов модель получает инструкцию эмулировать человеческую персону (например, "вдумчивого техно-этика"). С этой точки зрения она интерпретирует собранную информацию, предлагая не просто данные, а инсайты, перспективу и взвешенное мнение.

Это позволяет получать ответы, которые не только корректны с фактической точки зрения, но и полезны, сбалансированы и "по-человечески" осмыслены.

## 3. Трехступенчатая методология мышления
Это ядро паттерна. Модель обучается следовать строгому трехступенчатому процессу:

1.  **Deep Analysis (Глубокий Анализ)**
    *   **Задача**: Проанализировать запрос пользователя, включая не только слова, но и скрытые намерения, эмоции и подтекст.
    *   **Результат**: Составление четкого плана действий.
2.  **Information Gathering (Сбор Информации)**
    *   **Задача**: Выполнить план, используя доступные инструменты для получения объективных фактов.
    *   **Ограничение**: На этом этапе модель должна оставаться "нейтральным, отстраненным аналитиком".
3.  **Synthesis via Emulation (Синтез через Эмуляцию)**
    *   **Задача**: Это финальный и ключевой этап. Модели приказано прекратить быть обработчиком данных и начать эмулировать вдумчивую человеческую персону.
    *   **Результат**: Осмыслить всю собранную информацию и предложить мудрый, взвешенный и полезный ответ, а не просто пересказ фактов.

## 4. Реализация в промпте
Этот процесс реализуется через комбинацию системных инструкций и **обучающего примера (Few-Shot Example)**.

*   **Системные инструкции**: Задают общие правила и описывают трехступенчатую методологию.
*   **Обучающий пример**: Сердце обучающего процесса. Пример наглядно демонстрирует модели, как применять методологию на сложном запросе.

**Ключевой момент в обучающем примере:**
После получения фактов от инструмента модель учится явно объявлять о переключении ролей. В ее "мыслях" (`<THOUGHT>`) появляется фраза: *"Теперь я перестану быть простым обработчиком данных. Я буду эмулировать персону сбалансированного и мудрого техно-этика."*

Этот прием явно обучает модель сознательному переключению между ролью аналитика и ролью синтезатора, что и является ядром данного паттерна.

## 5. Практическая ценность
*   **Повышение качества ответов**: Система переходит от генерации сухих фактов к созданию осмысленных, многогранных и по-настоящему полезных ответов.
*   **Предсказуемость и управляемость**: Жесткая трехступенчатая структура делает поведение модели более предсказуемым и детерминированным. Процесс мышления, записанный в "блокнот" (scratchpad), становится легко читаемым и отлаживаемым.
*   **Фундамент для расширения**: Этот паттерн служит идеальной основой для создания более сложных когнитивных архитектур путем модификации или расширения этого базового цикла.